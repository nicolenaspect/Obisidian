Функционалното  програмиране е стил от програмирането, където решенията са прости, изолирани функции, без странични ефекти извън спектъра на функцията. 

```
INPUT -> PROCESS -> OUTPUT
```

Функционалното програмиране е: 
- Изолирани функции - няма зависимост от състоянието на програмата, която включва глобални променливи, които подлежат на промяна.
- Чисти функции - един и същ вход винаги дава един и същ изход
- Функции с лимитирани странични ефекти - всички промени или мутации в състоянието на програмата извън функцията се контролират внимателно.

## Understand the Hazards of Using Imperative Code

Функционалното програмиране е добър навик. Пази кода ви лесно управляем и ви пази от подли бъгове.  Нека да разгледаме императивния подход към програмирането, за да подчертаем къде може да имате проблеми. 

В английския (и много други езици), повелителното наклонение се използва за даване на команди. По подобен начин повелителният стил в програмирането е такъв, който дава на компютъра набор от оператори за изпълнение на дадена задача. 

Често командите променят състоянието на програмата, като например актуализират глобални променливи.  Класически пример е написването на цикъл `for`, който дава точни указания за итерация по индексите на масив.

За разлика от тях, императивното програмиране е форма на декларативно програмиране. Казвате на компютъра какво искате да направи, като изисквате метод или функция. 

JavaScript предлага много предварително дефинирани методи, които се справят с често срещани задачи, така че не е необходимо да пишете как компютърът да ги изпълнява. Например, вместо да използвате цикъла `for`, можете да извикате метода `map`, който се занимава с подробностите на итерация на масив. Това помага за избягването на семантични грешки, като например `Off By One Errors`.

Пример: 
Сърфирате в уеб браузъра си и искате да проследите отворените табове. Нека се опитаме да моделираме това с помощта на обектно-ориентиран код.

Обектът `Window` се състои от раздели и обикновено имате повече от един отворен `Window`. Заглавията на всеки отворен сайт във всеки обект се съхраняват в масив. След работа в браузъра (отваряне на нови раздели, обединяване на прозорци и затваряне на раздели), искате да отпечатате разделите, които все още са отворени. Затворените раздели се премахват от масива, а новите раздели (за опростяване) се добавят в края му.

Редакторът показва реализация на тази функционалност с функции за `tabOpen()`, `tabClose()` и `join()`. Масивът `tabs` е част от обекта `Window`, който съхранява имената на отворените страници.

[PasteBin Code](https://pastebin.com/fkavWyrU)

Проблемът беше в повикването на splice в `tabclose()` функцията. `splice` променя оригиналния масив, от който е извикана,  така че второто извикване на функцията използва модифициран масив и дава неочаквани резултати.

Това е малък пример за много по-голям модел - извиквате функция върху променлива, масив или обект и функцията променя променливата или нещо в обекта.

Един от основните принципи на функционалното програмиране е да не променяме нещата.  Промените водят до грешки. По-лесно е да предотвратите грешки, като знаете, че вашите функции не променят нищо, включително аргументи на функцията или някоя глобална променлива.

Предишният пример нямаше сложни операции, но методът `splice` промени оригиналния масив и доведе до бъг.

Във функционалното програмиране, промяната на нещата се нарича мутация, а резултатът се нарича страничен ефект. В идеалният случай една функция трябва да бъде чиста функция, което означава, че тя не предизвиква странични ефекти.

	Exercise
	Попълнете кода на функцията `incrementer, така че 
	тя да не връща стойността на глобалната променлива       `fixedValue`, увеличена с една единица.
```js
// The global variable
let fixedValue = 4;

function incrementer() {
return fixedValue + 1
}
```

Този пример е стъпка по-близо до принципите на функционалното програмиране, но все още има нещо липсващо.

Не сме променили стойността на глобалната променлива, но функцията няма да работи без наличието на глобалната променлива `fixedValue`.

Друг принцип на функционалното програмиране е винаги да декларирате изрично зависимостите си. Това означава, че ако дадена функция зависи от наличието на променлива или обект, подайте тази променлива или обект директно във функцията като аргумент. 

Този принцип има няколко добри последствия. Функцията е по-лесна за тестване, знаете точно какъв код приема и не зависи от нищо друго в програмата ви.

Това може да ви даде повече увереност, когато променяте, премахвате или добавяте нов код. Ще знаете какво можете и какво не можете да променяте и ще можете да видите къде са потенциалните капани.

Функцията винаги ще дава един и същ резултат за един и същ набор от входове, независимо от коя част на кода я изпълнява. 

```js
// The global variable

let fixedValue = 4;

  

// Only change code below this line

function incrementer(value) {

return value + 1

  

  // Only change code above this line

}
```